# Парсим онлайн библиотеку

Скрипт `parse_tululu_category.py` скачивает книги из нужного раздела с сайта [tululu.org](http://tululu.org/l55/). Для каждой книги дополнительно скачиваются обложка и комментарии.


## Требования

Для запуска вам понадобится Python 3.8 или выше.

## Подготовка

Скачайте код с GitHub. Установите зависимости:

```sh
pip install -r requirements.txt
```
Создать файл .env и добавить код

```
BOOKS_FOLDER=папка куда скачаются книги
BOOKS_IMAGES_FOLDER=папка куда скачаются картинки
CATEGORY_ID=id категории с книгами
BOOKS_FILE_NAME=имя json файла
SITE_DIRECTORY=имя папки где будет куда будет сгенерирован сайт
```

### Скачайте книги в туже папку где будет хранится сайт:
```sh
python parse_tululu_category.py --start_page 1 --end_page 10
```
Можно использовать сокращенную запись:
```sh
python parse_tululu_category.py -s 1 -e 10
```
Можно не указывать параметры `--start_page` и `--end_page`, по умолчанию будут скачиваться все доступные страницы, что займет _очень_ много времени.
В случае успешного выполнения скрипт ничего не выводит.

Доступные параметры:
- `--start_page` - Начиная с какой страницы скачивать книги. По умолчанию: `1`
- `--end_page` - По какую страницу скачивать книги (не включительно). По умолчанию: `701`
- `--dest_folder` - Путь в каталогу с результатами парсинга. По умолчанию: `/books`
- `--skip_imgs` - Пропустить скачивание картинок. По умалчению - скачивать.
- `--skip_txt` - Пропустить скачивание книг. По умалчению - скачивать.
- `--json_name` - Путь к JSON-файлу с результатами. По умолчанию: `books.json`


В случае успешного выполнения скрипт ничего не выводит.

### Как сгенерировать сайт

Убедитесь, что после парсинга библиотеки у вас появился файл -  `books.json`

Запустите
```shell script
python3 render_website.py
```
- `--books_directory` - Путь в каталогу с результатами парсинга. По умолчанию: `/books`
- `--site_directory` - Каталог куда будет сгенерирован сайт. По умолчанию: `site_directory`
- `--json_name` - Имя JSON-файла с данными книг. По умолчанию: `books.json`

И переходите по адресу http://127.0.0.1:5500/index1.html

Готовый пример вы можете посмотреть [https://originalmalek.github.io/](https://originalmalek.github.io/online-library/site/index1.html)

## Цели проекта

Код написан в учебных целях — для курса по Python на сайте [Devman](https://dvmn.org).
